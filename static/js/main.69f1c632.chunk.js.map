{"version":3,"sources":["Components/Navbar.module.scss","Components/Filter.module.scss","Components/Card.jsx","Components/Filter.jsx","Components/Content.jsx","Components/Navbar.jsx","App.js","index.js","Components/Card.module.scss"],"names":["module","exports","Card","item","button","onButton","onTag","className","styles","card","headerOfCard","author","onClick","title","description","tags","map","index","tag","Filter","items","clear","url","filter","href","Content","props","mainData","data","length","find","i","includes","split","join","toLowerCase","Navbar","navbar","to","activeClassName","active","count","App","useState","setData","bookData","setBookData","inProgressData","setInProgressData","doneData","setDoneData","toReadTags","setToReadTags","inProgressTags","setInProgressTags","doneTags","setDoneTags","history","push","prev","obj","id","useEffect","a","axios","get","bookResponse","alert","console","error","fetchData","JSON","parse","window","localStorage","getItem","setItem","stringify","createBrowserHistory","filterParams","location","search","substr","filtersFromParams","qs","err","checkUrlForTags","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.69f1c632.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__13M8M\",\"active\":\"Navbar_active__LsdbG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"Filter_filter__3p_2w\",\"tags\":\"Filter_tags__1Jrpn\",\"tag\":\"Filter_tag__2sfcQ\"};","import styles from \"./Card.module.scss\"\r\n\r\nlet Card = ({item, button, onButton, onTag}) => {\r\n    return (\r\n        <div className={styles.card}>\r\n            <div className={styles.headerOfCard}>\r\n                <h4>{item.author}</h4>\r\n                <button onClick={()=>onButton(item)} className={styles.button}>{button}=></button>\r\n            </div>\r\n            <h3>{item.title}</h3>\r\n            <div>{item.description}</div>\r\n            <div className={styles.tags}>\r\n                {item.tags.map((item, index) => {\r\n                    return (\r\n                        <div onClick={()=>onTag(item)} className={styles.tag} key={index}>#{item}</div>)\r\n                })}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card","import styles from \"./Filter.module.scss\"\r\nimport {Link} from \"react-router-dom\";\r\n\r\nlet Filter = ({items, clear, url}) => {\r\n    return (\r\n        <div className={styles.filter}>\r\n            <div className={styles.tags}>\r\n                <div>Filteres by tags:</div>\r\n                {items.map((item, index) => <div className={styles.tag} key={index}>#{item}</div>)}\r\n            </div>\r\n\r\n            <button onClick={()=>clear(items)}><a href={url}>(clear)</a></button>\r\n        </div>\r\n    )\r\n}\r\nexport default Filter","import Card from \"./Card\"\r\nimport Filter from \"./Filter\";\r\n\r\nlet Content = ({props}) => {\r\n\r\n    let mainData = props.data\r\n\r\n    if(props.tags.length) {\r\n        mainData = props.data.filter(item => item.tags.find(i=> props.tags.includes(i)))\r\n    }\r\n\r\n    return (\r\n        <div className=\"content\">\r\n            <Filter url={\"/\" + props.title.split(' ').join('').toLowerCase()} items={props.tags} clear={props.clear}/>\r\n            {mainData.map((item, index) =>\r\n                <Card\r\n                    button={props.button}\r\n                    onButton={props.onButton}\r\n                    item={item}\r\n                    key={index}\r\n                    onTag={props.onTag}\r\n                />)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Content","import styles from \"./Navbar.module.scss\"\r\nimport {NavLink} from \"react-router-dom\"\r\n\r\nlet Navbar = ({props}) => {\r\n    return (\r\n        <div className={styles.navbar}>\r\n                <NavLink to=\"/toread\" activeClassName={styles.active}>{props[0].title + \"(\" + props[0].count + \")\"}</NavLink>\r\n                <NavLink to=\"/inprogress\" activeClassName={styles.active}>{props[1].title + \"(\" + props[1].count + \")\"}</NavLink>\r\n                <NavLink to=\"/done\" activeClassName={styles.active}>{props[2].title + \"(\" + props[2].count + \")\"}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navbar","import './App.css';\r\nimport axios from \"axios\";\r\nimport {useEffect, useState} from \"react\";\r\nimport Content from \"./Components/Content\";\r\nimport Navbar from \"./Components/Navbar\";\r\nimport {Route} from \"react-router-dom\";\r\nimport {createBrowserHistory} from \"history\";\r\nimport qs from \"qs\";\r\n\r\nfunction App() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [bookData, setBookData] = useState([]);\r\n    const [inProgressData, setInProgressData] = useState([]);\r\n    const [doneData, setDoneData] = useState([]);\r\n\r\n    const [toReadTags, setToReadTags] = useState([]);\r\n    const [inProgressTags, setInProgressTags] = useState([]);\r\n    const [doneTags, setDoneTags] = useState([]);\r\n\r\n    const addToInProgress = obj => {\r\n        setInProgressData((prev) => [...prev, obj])\r\n        setBookData(prev => prev.filter(item => item.id !== obj.id))\r\n    }\r\n    const addToDone = obj => {\r\n        setDoneData((prev) => [...prev, obj])\r\n        setInProgressData(prev => prev.filter(item => item.id !== obj.id))\r\n    }\r\n    const addToToRead = obj => {\r\n        setBookData((prev) => [...prev, obj])\r\n        setDoneData(prev => prev.filter(item => item.id !== obj.id))\r\n    }\r\n\r\n    const addTagToRead = (tag) => {\r\n        if (!toReadTags.includes(tag)) {\r\n            setToReadTags((prev) => [...prev, tag])\r\n        }\r\n    }\r\n    const addTagInProgress = (tag) => {\r\n        if (!inProgressTags.includes(tag)) {\r\n            setInProgressTags((prev) => [...prev, tag])\r\n        }\r\n    }\r\n    const addTagDone = (tag) => {\r\n        if (!doneTags.includes(tag)) {\r\n            setDoneTags((prev) => [...prev, tag])\r\n        }\r\n    }\r\n\r\n    const clearTagToRead = () => {\r\n        setToReadTags([])\r\n        history.push()\r\n    }\r\n    const clearTagInProgress = () => {\r\n        setInProgressTags([])\r\n    }\r\n    const clearTagDone = () => {\r\n        setDoneTags([])\r\n    }\r\n    const load = () => {\r\n        setBookData(data)\r\n    }\r\n\r\n    const props = [\r\n        {\r\n            clear: clearTagToRead,\r\n            title: \"To read\",\r\n            data: bookData,\r\n            button: \"start reading\",\r\n            tags: toReadTags,\r\n            count: bookData.length,\r\n            onTag: addTagToRead,\r\n            onButton: addToInProgress\r\n        },\r\n        {\r\n            clear: clearTagInProgress,\r\n            title: \"In progress\",\r\n            data: inProgressData,\r\n            button: \"finished reading\",\r\n            tags: inProgressTags,\r\n            count: inProgressData.length,\r\n            onTag: addTagInProgress,\r\n            onButton: addToDone\r\n        },\r\n        {\r\n            clear: clearTagDone,\r\n            title: \"Done\",\r\n            data: doneData,\r\n            button: \"add to read\",\r\n            tags: doneTags,\r\n            count: doneData.length,\r\n            onTag: addTagDone,\r\n            onButton: addToToRead\r\n        },\r\n    ];\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            try {\r\n                const bookResponse = await axios.get('10-items.json')\r\n                setData(bookResponse.data.items)\r\n            } catch (error) {\r\n                alert(\"Ошибка при запросе данных\")\r\n                console.error(error)\r\n            }\r\n        }\r\n\r\n        fetchData()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        setBookData(JSON.parse(window.localStorage.getItem('bookData')));\r\n        setInProgressData(JSON.parse(window.localStorage.getItem('inProgressData')));\r\n        setDoneData(JSON.parse(window.localStorage.getItem('doneData')));\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        window.localStorage.setItem('bookData', JSON.stringify(bookData));\r\n    }, [bookData]);\r\n    useEffect(() => {\r\n        window.localStorage.setItem('inProgressData', JSON.stringify(inProgressData));\r\n    }, [inProgressData]);\r\n    useEffect(() => {\r\n        window.localStorage.setItem('doneData', JSON.stringify(doneData));\r\n    }, [doneData]);\r\n\r\n\r\n    const history = createBrowserHistory();\r\n    useEffect(() => {\r\n        const filterParams = history.location.search.substr(1);\r\n        const filtersFromParams = qs.parse(filterParams);\r\n        function checkUrlForTags() {\r\n            try {\r\n                if (filtersFromParams.tags) {\r\n                    setToReadTags(filtersFromParams.tags.split(\" \"));\r\n                }\r\n            } catch (err) {\r\n                console.error(err)\r\n            }\r\n        }\r\n        checkUrlForTags()\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (toReadTags.length !== 0) {\r\n            history.push(`?tags=${toReadTags.join(' ')}`);\r\n        }\r\n    }, [toReadTags]);\r\n\r\n\r\n    return (\r\n        <div className=\"wrapper\">\r\n            <button onClick={load}>Reload</button>\r\n            <Navbar props={props}/>\r\n            <Route path=\"/toread\">\r\n                <Content props={props[0]}/>\r\n            </Route>\r\n            <Route path=\"/inprogress\">\r\n                <Content props={props[1]}/>\r\n            </Route>\r\n            <Route path=\"/done\">\r\n                <Content props={props[2]}/>\r\n            </Route>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <HashRouter>\n            <App/>\n        </HashRouter>\n    </React.StrictMode>\n    ,\n    document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3-9IY\",\"headerOfCard\":\"Card_headerOfCard__1Wp7x\",\"button\":\"Card_button__xhumk\",\"tags\":\"Card_tags__1jNju\",\"tag\":\"Card_tag__8LcOc\"};"],"sourceRoot":""}