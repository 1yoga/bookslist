{"version":3,"sources":["Components/Navbar.module.scss","Components/Filter.module.scss","Components/Card.jsx","Components/Filter.jsx","Components/Content.jsx","Components/Navbar.jsx","App.js","index.js","Components/Card.module.scss"],"names":["module","exports","Card","item","button","onButton","onTag","className","styles","card","headerOfCard","author","onClick","title","description","tags","map","index","tag","Filter","items","clear","url","filter","to","Content","props","split","join","toLowerCase","history","createBrowserHistory","useEffect","filterParams","location","hash","substr","indexOf","filtersFromParams","qs","parse","s","setTags","err","console","error","checkUrlForTags","length","push","mainData","data","find","i","includes","Navbar","navbar","activeClassName","active","count","App","useState","setData","bookData","setBookData","inProgressData","setInProgressData","doneData","setDoneData","toReadTags","setToReadTags","inProgressTags","setInProgressTags","doneTags","setDoneTags","prev","obj","id","a","axios","get","bookResponse","alert","fetchData","JSON","window","localStorage","getItem","setItem","stringify","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2441af46.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__13M8M\",\"active\":\"Navbar_active__LsdbG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"Filter_filter__3p_2w\",\"tags\":\"Filter_tags__1Jrpn\",\"tag\":\"Filter_tag__2sfcQ\"};","import styles from \"./Card.module.scss\"\r\n\r\nlet Card = ({item, button, onButton, onTag}) => {\r\n    return (\r\n        <div className={styles.card}>\r\n            <div className={styles.headerOfCard}>\r\n                <h4>{item.author}</h4>\r\n                <button onClick={()=>onButton(item)} className={styles.button}>{button}=></button>\r\n            </div>\r\n            <h3>{item.title}</h3>\r\n            <div>{item.description}</div>\r\n            <div className={styles.tags}>\r\n                {item.tags.map((item, index) => {\r\n                    return (\r\n                        <div onClick={()=>onTag(item)} className={styles.tag} key={index}>#{item}</div>)\r\n                })}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card","import styles from \"./Filter.module.scss\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet Filter = ({items, clear, url}) => {\r\n\r\n    return (\r\n        <div className={styles.filter}>\r\n            <div className={styles.tags}>\r\n                <div>Filteres by tags:</div>\r\n                {items.map((item, index) => <div className={styles.tag} key={index}>#{item}</div>)}\r\n            </div>\r\n\r\n            <button onClick={()=>clear(items)}><NavLink to={url}>(clear)</NavLink></button>\r\n        </div>\r\n    )\r\n}\r\nexport default Filter","import Card from \"./Card\"\r\nimport Filter from \"./Filter\";\r\nimport {createBrowserHistory} from \"history\";\r\nimport {useEffect} from \"react\";\r\nimport qs from \"qs\";\r\n\r\nlet Content = ({props}) => {\r\n    let url = \"/\" + props.title.split(' ').join('').toLowerCase()\r\n\r\n    const history = createBrowserHistory();\r\n\r\n    useEffect(() => {\r\n        const filterParams = history.location.hash.substr(history.location.hash.split(\"\").indexOf(\"=\")-1);\r\n        const filtersFromParams = qs.parse(filterParams);\r\n        function checkUrlForTags() {\r\n            try {\r\n                if (filtersFromParams.s) {\r\n                    props.setTags(filtersFromParams.s.split(\" \"));\r\n                }\r\n            } catch (err) {\r\n                console.error(err)\r\n            }\r\n        }\r\n        checkUrlForTags()\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (props.tags.length !== 0) {\r\n            history.push(`#${url}?tags=${props.tags.join(' ')}`);\r\n        } else {\r\n            history.push(`${history.location.hash}`)\r\n        }\r\n    }, [props.tags]);\r\n\r\n    let mainData = props.data\r\n\r\n    if(props.tags.length) {\r\n        mainData = props.data.filter(item => item.tags.find(i=> props.tags.includes(i)))\r\n    }\r\n\r\n    return (\r\n        <div className=\"content\">\r\n            <Filter url={url} items={props.tags} clear={props.clear}/>\r\n            {mainData.map((item, index) =>\r\n                <Card\r\n                    button={props.button}\r\n                    onButton={props.onButton}\r\n                    item={item}\r\n                    key={index}\r\n                    onTag={props.onTag}\r\n                />)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Content","import styles from \"./Navbar.module.scss\"\r\nimport {NavLink} from \"react-router-dom\"\r\n\r\nlet Navbar = ({props}) => {\r\n    return (\r\n        <div className={styles.navbar}>\r\n                <NavLink to=\"/toread\" activeClassName={styles.active}>{props[0].title + \"(\" + props[0].count + \")\"}</NavLink>\r\n                <NavLink to=\"/inprogress\" activeClassName={styles.active}>{props[1].title + \"(\" + props[1].count + \")\"}</NavLink>\r\n                <NavLink to=\"/done\" activeClassName={styles.active}>{props[2].title + \"(\" + props[2].count + \")\"}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navbar","import './App.css';\r\nimport axios from \"axios\";\r\nimport {useEffect, useState} from \"react\";\r\nimport Content from \"./Components/Content\";\r\nimport Navbar from \"./Components/Navbar\";\r\nimport {Route} from \"react-router-dom\";\r\n\r\n\r\nfunction App() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [bookData, setBookData] = useState([]);\r\n    const [inProgressData, setInProgressData] = useState([]);\r\n    const [doneData, setDoneData] = useState([]);\r\n\r\n    const [toReadTags, setToReadTags] = useState([]);\r\n    const [inProgressTags, setInProgressTags] = useState([]);\r\n    const [doneTags, setDoneTags] = useState([]);\r\n\r\n    const addToInProgress = obj => {\r\n        setInProgressData((prev) => [...prev, obj])\r\n        setBookData(prev => prev.filter(item => item.id !== obj.id))\r\n    }\r\n    const addToDone = obj => {\r\n        setDoneData((prev) => [...prev, obj])\r\n        setInProgressData(prev => prev.filter(item => item.id !== obj.id))\r\n    }\r\n    const addToToRead = obj => {\r\n        setBookData((prev) => [...prev, obj])\r\n        setDoneData(prev => prev.filter(item => item.id !== obj.id))\r\n    }\r\n\r\n    const addTagToRead = (tag) => {\r\n        if (!toReadTags.includes(tag)) {\r\n            setToReadTags((prev) => [...prev, tag])\r\n        }\r\n    }\r\n    const addTagInProgress = (tag) => {\r\n        if (!inProgressTags.includes(tag)) {\r\n            setInProgressTags((prev) => [...prev, tag])\r\n        }\r\n    }\r\n    const addTagDone = (tag) => {\r\n        if (!doneTags.includes(tag)) {\r\n            setDoneTags((prev) => [...prev, tag])\r\n        }\r\n    }\r\n\r\n    const clearTagToRead = () => {\r\n        setToReadTags([])\r\n    }\r\n    const clearTagInProgress = () => {\r\n        setInProgressTags([])\r\n    }\r\n    const clearTagDone = () => {\r\n        setDoneTags([])\r\n    }\r\n    const load = () => {\r\n        setBookData(data)\r\n    }\r\n\r\n    const props = [\r\n        {\r\n            clear: clearTagToRead,\r\n            title: \"To read\",\r\n            data: bookData,\r\n            button: \"start reading\",\r\n            tags: toReadTags,\r\n            setTags: setToReadTags,\r\n            count: bookData.length,\r\n            onTag: addTagToRead,\r\n            onButton: addToInProgress\r\n        },\r\n        {\r\n            clear: clearTagInProgress,\r\n            title: \"In progress\",\r\n            data: inProgressData,\r\n            button: \"finished reading\",\r\n            tags: inProgressTags,\r\n            setTags: setInProgressTags,\r\n            count: inProgressData.length,\r\n            onTag: addTagInProgress,\r\n            onButton: addToDone\r\n        },\r\n        {\r\n            clear: clearTagDone,\r\n            title: \"Done\",\r\n            data: doneData,\r\n            button: \"add to read\",\r\n            tags: doneTags,\r\n            setTags: setDoneTags,\r\n            count: doneData.length,\r\n            onTag: addTagDone,\r\n            onButton: addToToRead\r\n        },\r\n    ];\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            try {\r\n                const bookResponse = await axios.get('10-items.json')\r\n                setData(bookResponse.data.items)\r\n            } catch (error) {\r\n                alert(\"Ошибка при запросе данных\")\r\n                console.error(error)\r\n            }\r\n        }\r\n\r\n        fetchData()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        setBookData(JSON.parse(window.localStorage.getItem('bookData')));\r\n        setInProgressData(JSON.parse(window.localStorage.getItem('inProgressData')));\r\n        setDoneData(JSON.parse(window.localStorage.getItem('doneData')));\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        window.localStorage.setItem('bookData', JSON.stringify(bookData));\r\n    }, [bookData]);\r\n    useEffect(() => {\r\n        window.localStorage.setItem('inProgressData', JSON.stringify(inProgressData));\r\n    }, [inProgressData]);\r\n    useEffect(() => {\r\n        window.localStorage.setItem('doneData', JSON.stringify(doneData));\r\n    }, [doneData]);\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"wrapper\">\r\n            <button onClick={load}>Reload</button>\r\n            <Navbar props={props}/>\r\n            <Route path=\"/toread\">\r\n                <Content props={props[0]}/>\r\n            </Route>\r\n            <Route path=\"/inprogress\">\r\n                <Content props={props[1]}/>\r\n            </Route>\r\n            <Route path=\"/done\">\r\n                <Content props={props[2]}/>\r\n            </Route>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport {HashRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <HashRouter>\n            <App/>\n        </HashRouter>\n    </React.StrictMode>\n    ,\n    document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3-9IY\",\"headerOfCard\":\"Card_headerOfCard__1Wp7x\",\"button\":\"Card_button__xhumk\",\"tags\":\"Card_tags__1jNju\",\"tag\":\"Card_tag__8LcOc\"};"],"sourceRoot":""}